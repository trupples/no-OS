<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>LTC4296 no-OS driver &#8212; no-OS  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="../_static/style.min.css?v=b4b07c60" />
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script defer="" src="../_static/app.umd.js?v=7e1fdd13"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="no-OS projects list" href="../projects_doc.html" />
    <link rel="prev" title="ADP1050 no-OS driver" href="adp1050.html" />
   
  
    <meta name="robots" content="noindex">
  
  <meta name="repo" content="no-OS">
  


<style>
  body {
    
  }

  body.dark {
    
  }

  @media (prefers-color-scheme: dark) {
    body:not(.light) {
      
    }
  }
</style>
  </head><body>
  <div class="banner"></div>
  <input type="checkbox" id="input-show-toc">
  <input type="checkbox" id="input-show-localtoc">
  <input type="checkbox" id="input-show-repotoc">

  
  <div class="search-area">
    <form action="" method="get">
      <input type="text" name="q" aria-labelledby="search-documentation" value="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="search" placeholder="Search"/>
      <button value="search" class="icon"></button>
      <span id="search-progress"></span>
    </form>
  </div>
  

  <header>
    <div id="left">
      <label id="show-sidebar" class="icon" for="input-show-toc" title="Show/hide index"></label>
    </div>
    <div id="right">
      <span>
        <a id="logo-org" href="https://analog.com"></a>
        <div class="vertical-divider"></div>
        <label id="show-repotoc" for="input-show-repotoc" title="Show/hide docs" tabindex="0">Docs</label>
        <a id="logo" href="../index.html">
          <div>no-OS</div>
        </a>
      </span>
      <span class="reverse">
        <label id="show-localtoc" class="icon" for="input-show-localtoc" title="Show/hide contents"></label>
      </span>
    </div>
  </header>


  <div class="repotoc-tree overlay">
    <root>
  <a href="../../documentation/eval/index.html">Evaluation Boards</a>
  <a href="../../documentation/university/index.html">University Program</a>
  <a href="../../hdl/index.html">HDL</a>
  <a href="../index.html" class="current">no-OS</a>
  <a href="../../pyadi-iio/index.html">Hardware Python Interfaces</a>
  <a href="../../precision-converters-firmware/index.html">Precision Converters Firmware</a>
  <a href="../../doctools/index.html">Doctools</a>
  <a href="../../PrecisionToolbox/index.html">Precision Toolbox</a>
</root>

  </div>
    <div class="localtoc">
      <div class="tocwrapper">
        <div>
          <div class="localtoc-header">On this page</div>
          <a id="scroll-up" href="#top-anchor" title="Back to top"></a>
        </div>
        <nav>
          <ul>
<li><a class="reference internal" href="#">LTC4296 no-OS driver</a><ul>
<li><a class="reference internal" href="#supported-devices">Supported Devices</a></li>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#applications">Applications</a></li>
<li><a class="reference internal" href="#ltc4296-device-configuration">LTC4296 Device Configuration</a></li>
<li><a class="reference internal" href="#driver-initialization">Driver Initialization</a></li>
<li><a class="reference internal" href="#ltc4296-driver-initialization-example">LTC4296 Driver Initialization Example</a></li>
<li><a class="reference internal" href="#spi-communication-example">SPI Communication Example</a></li>
</ul>
</li>
</ul>

        </nav>
      </div>
    </div>

  
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    <a id="no-logo" href="../index.html">
      no-OS
    </a><input id="input-switch-toc" type="checkbox">
<label id="show-repotoc" for="input-switch-toc">
All content
</label>
<label id="show-toc" for="input-switch-toc">
Content on this topic
</label>
<div class="repotoc-tree">
  <root>
  <a href="../../documentation/eval/index.html">Evaluation Boards</a>
  <a href="../../documentation/university/index.html">University Program</a>
  <a href="../../hdl/index.html">HDL</a>
  <a href="../index.html" class="current">no-OS</a>
  <a href="../../pyadi-iio/index.html">Hardware Python Interfaces</a>
  <a href="../../precision-converters-firmware/index.html">Precision Converters Firmware</a>
  <a href="../../doctools/index.html">Doctools</a>
  <a href="../../PrecisionToolbox/index.html">Precision Toolbox</a>
</root>

</div>
<div class="toc-tree">
  <html>
  <body><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../drivers_guide.html">no-OS drivers guide</a></li>
<li class="toctree-l1 current"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1" id="toctree-collapse-1" checked=""/><div class="collapse"><a class="reference internal" href="../drivers_doc.html">no-OS drivers list</a><label for="toctree-collapse-1"><div class="icon"></div></label></div><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="adxl355.html">ADXL355 no-OS driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="adm1177.html">ADM1177 no-OS Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="axi_sysid.html">System ID (AXI_SYSID) no-OS Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="max14914.html">MAX14914 no-OS driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="max14919.html">MAX14919 no-OS driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="max149x6.html">MAX149X6 no-OS driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="max22190.html">MAX22190 no-OS driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="max22196.html">MAX22196 no-OS driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="max22200.html">MAX22200 no-OS driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="max2201x.html">MAX2201X no-OS Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="imu.html">ADIS no-OS driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="madura.html">ADRV902x (Madura) no-OS Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="adp1050.html">ADP1050 no-OS driver</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">LTC4296 no-OS driver</a></li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2" id="toctree-collapse-2"/><div class="collapse"><a class="reference internal" href="../projects_doc.html">no-OS projects list</a><label for="toctree-collapse-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects/ad7091r8-sdz.html">Evaluating AD7091R-2/-4/-8 Devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/eval-adis1646x.html">Evaluating the ADIS1646X Family</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/eval-adis1647x.html">Evaluating the ADIS1647X Family</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/eval-adis1650x.html">Evaluating the ADIS1650X Family</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/eval-adis1657x.html">Evaluating the ADIS1657X Family</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/eval-ade9430.html">EVAL-ADE9430 Sensor-to-Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/adrv902x.html">adrv902x no-OS Sample Poject</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/apard32690.html">Evaluating the AD-APARD32690-SL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/max14914.html">Evaluating the MAX14914</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/max14919.html">Evaluating the MAX14919</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/ad7616-st.html">Evaluating AD7616 on SDP-K1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/adp1050.html">Evaluating the ADP1050</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/ltc4296.html">Evaluating the LTC4296</a></li>
<li class="toctree-l2"><a class="reference internal" href="../projects/max2201x.html">Evaluating the MAX2201X</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing to no-OS</a></li>
</ul>
</body>
</html>

</div>
        </div>
      </div>

  <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper" id="top-anchor">
          <div class="body" role="main">
            
  <section id="ltc4296-no-os-driver">
<h1>LTC4296 no-OS driver<a class="headerlink" href="#ltc4296-no-os-driver" title="Link to this heading">¶</a></h1>
<section id="supported-devices">
<h2>Supported Devices<a class="headerlink" href="#supported-devices" title="Link to this heading">¶</a></h2>
<p><a class="reference external" href="www.analog.com/en/products/ltc4296-1.html">LTC4296-1</a></p>
</section>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<p>The <a class="reference external" href="www.analog.com/en/products/ltc4296-1.html">LTC4296-1</a> is an IEEE
802.3cg-compliant, five port, single-pair power over Ethernet (SPoE), power
sourcing equipment (PSE) controller. SPoE simplifies system design and
installation with standardized power and Ethernet data over a single-pair cable.
The LTC4296-1 is designed for interoperability with 802.3cg powered devices
(PDs) in 24 V or 54 V systems. The LTC4296-1 delivers power using external, low
drain-to-source on resistance (RDS(ON)), N-channel metal-oxide semiconductor
field-effect transistors (MOS-FETs), which minimize voltage drop and ensure
application ruggedness.
High-side circuit breakers with foldback, analog current limit (ACL) provide
controlled inrush and short-circuit protection. An optional low-side circuit
breaker protects the negative output against backfeed faults, and ground faults
in nonisolated applications. PD classification via the serial communication
classification protocol (SCCP)and maintain full voltage signature (MFVS) ensure
full operating voltage is only applied to the cable when a PD is present. The
SWx pins disconnect port power snubbers during detection and classification.
PD initiated sleep and wake-up are supported. The WAKEUP pin supports wake-up
forwarding. Telemetry, status, and software control features are accessed via a
serial peripheral interface (SPI) bus interface with packet error code (PEC)
protection.</p>
</section>
<section id="applications">
<h2>Applications<a class="headerlink" href="#applications" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Operational technology (OT) systems</p></li>
<li><p>Building and factory automation systems</p></li>
<li><p>Field instruments and switches</p></li>
<li><p>Security systems</p></li>
<li><p>Traffic control systems</p></li>
</ul>
</section>
<section id="ltc4296-device-configuration">
<h2>LTC4296 Device Configuration<a class="headerlink" href="#ltc4296-device-configuration" title="Link to this heading">¶</a></h2>
</section>
<section id="driver-initialization">
<h2>Driver Initialization<a class="headerlink" href="#driver-initialization" title="Link to this heading">¶</a></h2>
<p>In order to be able to use the device, you will have to provide the support for
the communication protocol (SPI).</p>
<p>The first API to be called is <strong>ltc4296_init</strong>. Make sure that it returns 0,
which means that the driver was initialized correctly. This function will also
reset the LTC4296 by performing a soft reset, putting the device in a known
state.</p>
</section>
<section id="ltc4296-driver-initialization-example">
<h2>LTC4296 Driver Initialization Example<a class="headerlink" href="#ltc4296-driver-initialization-example" title="Link to this heading">¶</a></h2>
</section>
<section id="spi-communication-example">
<h2>SPI Communication Example<a class="headerlink" href="#spi-communication-example" title="Link to this heading">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>struct<span class="w"> </span>ltc4296_dev<span class="w"> </span>*dev<span class="p">;</span>
int<span class="w"> </span>ret<span class="p">;</span>

struct<span class="w"> </span>no_os_uart_init_param<span class="w"> </span><span class="nv">ltc4296_uart_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span>.device_id<span class="w"> </span><span class="o">=</span><span class="w"> </span>UART_DEVICE_ID,
<span class="w">        </span>.baud_rate<span class="w"> </span><span class="o">=</span><span class="w"> </span>UART_BAUDRATE,
<span class="w">        </span>.size<span class="w"> </span><span class="o">=</span><span class="w"> </span>NO_OS_UART_CS_8,
<span class="w">        </span>.parity<span class="w"> </span><span class="o">=</span><span class="w"> </span>NO_OS_UART_PAR_NO,
<span class="w">        </span>.stop<span class="w"> </span><span class="o">=</span><span class="w"> </span>NO_OS_UART_STOP_1_BIT,
<span class="w">        </span>.platform_ops<span class="w"> </span><span class="o">=</span><span class="w"> </span>UART_OPS,
<span class="w">        </span>.extra<span class="w"> </span><span class="o">=</span><span class="w"> </span>UART_EXTRA,
<span class="o">}</span><span class="p">;</span>

struct<span class="w"> </span>no_os_spi_init_param<span class="w"> </span><span class="nv">ltc4296_spi_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span>.device_id<span class="w"> </span><span class="o">=</span><span class="w"> </span>SPI_DEVICE_ID,
<span class="w">        </span>.max_speed_hz<span class="w"> </span><span class="o">=</span><span class="w"> </span>SPI_BAUDRATE,
<span class="w">        </span>.bit_order<span class="w"> </span><span class="o">=</span><span class="w"> </span>NO_OS_SPI_BIT_ORDER_MSB_FIRST,
<span class="w">        </span>.mode<span class="w"> </span><span class="o">=</span><span class="w"> </span>NO_OS_SPI_MODE_0,
<span class="w">        </span>.platform_ops<span class="w"> </span><span class="o">=</span><span class="w"> </span>SPI_OPS,
<span class="w">        </span>.chip_select<span class="w"> </span><span class="o">=</span><span class="w"> </span>SPI_CS,
<span class="w">        </span>.extra<span class="w"> </span><span class="o">=</span><span class="w"> </span>SPI_EXTRA,
<span class="o">}</span><span class="p">;</span>

struct<span class="w"> </span>ltc4296_init_param<span class="w"> </span><span class="nv">ltc4296_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span>.spi_init<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">&amp;</span>ltc4296_spi_ip,
<span class="o">}</span><span class="p">;</span>

<span class="nv">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>ltc4296_init<span class="o">(</span><span class="p">&amp;</span>ltc4296_desc,<span class="w"> </span><span class="p">&amp;</span>ltc4296_ip<span class="o">)</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="o">(</span>ret<span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span>pr_info<span class="o">(</span><span class="s2">&quot;Initialization error!\n&quot;</span><span class="o">)</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span>ret<span class="p">;</span>
<span class="o">}</span>

<span class="nv">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>ltc4296_port_prebias<span class="o">(</span>ltc4296_desc,<span class="w"> </span>LTC_PORT0,<span class="w"> </span>LTC_CFG_APL_MODE<span class="o">)</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="o">(</span>ret<span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span>goto<span class="w"> </span>err<span class="p">;</span>
<span class="o">}</span>

<span class="nv">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>ltc4296_port_en<span class="o">(</span>ltc4296_desc,<span class="w"> </span>LTC_PORT0<span class="o">)</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="o">(</span>ret<span class="o">)</span>
<span class="w">        </span>goto<span class="w"> </span>err<span class="p">;</span>
</pre></div>
</div>
</section>
</section>


          </div>
              <div class="related">
                &nbsp;
    <a href="adp1050.html" title="Previous document (Ctrl+LeftArrow)" class="prev">ADP1050 no-OS driver</a>
    <a href="../projects_doc.html" title="Next document (Ctrl+RightArrow)" class="next">no-OS projects list</a>
              </div>
          
        </div>
      </div>
  </div>

  <div id="vertical-border"></div>

  <label id="cancel-area-show-toc" for="input-show-toc"></label>
  <label id="cancel-area-show-localtoc" for="input-show-localtoc"></label>
    <footer>
      &#169;2023-2024, Analog Devices, Inc.
      
      |
      Made with <a href="https://www.sphinx-doc.org/">Sphinx</a>
      &amp; <a href="https://github.com/analogdevicesinc/doctools">Doctools</a>
      
    </footer>
  </body>
</html>